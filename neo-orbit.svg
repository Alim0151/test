<svg width="400" height="400" viewBox="-200 -200 400 400" xmlns="http://www.w3.org/2000/svg">
  <title>Complex Three-Body System</title>
  <desc>A pure CSS and SVG animation mimicking a chaotic three-body orbit with fading trails and complex paths.</desc>

  <style>
    /* Global styles */
    svg {
      background-color: #000;
    }

    /* Glow filter definition for a stronger, more realistic glow */
    .glowing {
      filter: url(#glowFilter);
    }
    
    #glowFilter {
      filter: drop-shadow(0 0 5px currentColor) drop-shadow(0 0 10px currentColor);
    }

    /* Keyframes for the orbital movements */
    @keyframes mainOrbit {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes smallOrbit1 {
      0% { transform: translate(100px, 0) rotate(0deg); }
      100% { transform: translate(100px, 0) rotate(360deg); }
    }
    @keyframes smallOrbit2 {
      0% { transform: translate(0, 100px) rotate(0deg); }
      100% { transform: translate(0, 100px) rotate(360deg); }
    }
    @keyframes smallOrbit3 {
      0% { transform: translate(-100px, 0) rotate(0deg); }
      100% { transform: translate(-100px, 0) rotate(360deg); }
    }
    @keyframes pulse {
      0%, 100% { r: 5; }
      50% { r: 7; }
    }

    /* Keyframes for the fading trails. This is the magic part! */
    @keyframes trail {
      0% { stroke-dashoffset: 0; opacity: 1; }
      50% { opacity: 0.5; }
      100% { stroke-dashoffset: 400; opacity: 0; }
    }

    /* Main container that rotates the entire system */
    .container {
      animation: mainOrbit 36s linear infinite;
      transform-origin: 0 0; /* Center of the viewBox */
    }

    /* Styles for the orbs */
    .body {
      animation: pulse 4s ease-in-out infinite alternate;
    }

    /* Styles for the trails */
    .trail {
      fill: none;
      stroke-width: 2;
      stroke-dasharray: 400;
      stroke-linecap: round;
      opacity: 0; /* Hidden by default */
      animation: trail 12s ease-in-out infinite;
    }

    /* Specific styles for each orb and trail */
    .gold {
      stroke: #FFD700;
    }
    .blue {
      stroke: #87CEEB;
    }
    .plum {
      stroke: #DDA0DD;
    }

    /* Nesting to create complex movement */
    .g1 {
      animation: smallOrbit1 12s linear infinite reverse;
    }
    .g2 {
      animation: smallOrbit2 12s linear infinite;
    }
    .g3 {
      animation: smallOrbit3 12s linear infinite reverse;
    }

  </style>

  <defs>
    <filter id="glowFilter">
      <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="blur"></feGaussianBlur>
      <feColorMatrix in="blur" type="matrix" values="1 0 0 0 0
                                                    0 1 0 0 0
                                                    0 0 1 0 0
                                                    0 0 0 5 -1" result="glow"></feColorMatrix>
      <feMerge>
        <feMergeNode in="SourceGraphic"></feMergeNode>
        <feMergeNode in="glow"></feMergeNode>
      </feMerge>
    </filter>
  </defs>

  <g class="container">

    <g class="glowing g1">
      <path class="trail gold" d="M0,0 C-50,-50 -100,0 -100,0 C-100,0 -50,50 0,0"></path>
      <circle class="body" fill="#FFD700"></circle>
    </g>

    <g class="glowing g2">
      <path class="trail blue" d="M0,0 C-50,-50 -100,0 -100,0 C-100,0 -50,50 0,0"></path>
      <circle class="body" fill="#87CEEB"></circle>
    </g>

    <g class="glowing g3">
      <path class="trail plum" d="M0,0 C-50,-50 -100,0 -100,0 C-100,0 -50,50 0,0"></path>
      <circle class="body" fill="#DDA0DD"></circle>
    </g>
    
  </g>
</svg>
